import numpy as np

d = 3   # dimension of space (3D)

# Measurement data: maps landmark to {timestamp: measurement} dicts
y_bar = {
    0: {
        0: np.array([[-4.5560,0.7428,3.9530]]).T,
        1: np.array([[-3.3493,4.6632,3.3274]]).T,
        2: np.array([[0.4082,6.4824,2.7017]]).T,
        3: np.array([[4.3745,4.9481,2.0760]]).T,
        4: np.array([[5.9946,0.9265,1.4504]]).T,
        5: np.array([[4.1327,-3.0859,0.8247]]).T,
        6: np.array([[-0.1531,-4.5069,0.1990]]).T,
        7: np.array([[-4.2114,-2.3173,-0.4267]]).T,
    },
    1: {
        0: np.array([[4.3467,-1.1549,0.7945]]).T,
        1: np.array([[1.5625,-2.9340,0.2782]]).T,
        2: np.array([[-1.4918,-2.3052,-0.2382]]).T,
        3: np.array([[-3.1428,0.1193,-0.7546]]).T,
        4: np.array([[-2.6778,2.8287,-1.2709]]).T,
        5: np.array([[-0.6131,4.3517,-1.7873]]).T,
        6: np.array([[1.7514,4.0505,-2.3036]]).T,
        7: np.array([[3.1463,2.3455,-2.8200]]).T,
    },
    2: {
        0: np.array([[3.2236,1.0935,-4.9031]]).T,
        1: np.array([[2.2412,-0.6636,-5.2207]]).T,
        2: np.array([[0.4304,-1.1773,-5.5383]]).T,
        3: np.array([[-1.0998,-0.3254,-5.8560]]).T,
        4: np.array([[-1.5452,1.2327,-6.1736]]).T,
        5: np.array([[-0.8238,2.5359,-6.4912]]).T,
        6: np.array([[0.4815,2.9132,-6.8089]]).T,
        7: np.array([[1.5578,2.3222,-7.1265]]).T,
    },
    3: {
        0: np.array([[-3.7972,1.7988,2.8318]]).T,
        1: np.array([[-2.2124,4.8879,2.2694]]).T,
        2: np.array([[1.2779,5.9512,1.7069]]).T,
        3: np.array([[4.6285,4.1038,1.1444]]).T,
        4: np.array([[5.6910,0.2430,0.5819]]).T,
        5: np.array([[3.5810,-3.3691,0.0195]]).T,
        6: np.array([[-0.6503,-4.4308,-0.5430]]).T,
        7: np.array([[-4.5238,-2.0582,-1.1055]]).T,
    },
    4: {
        0: np.array([[-4.5088,0.3280,-4.8171]]).T,
        1: np.array([[-3.8134,4.0159,-5.1508]]).T,
        2: np.array([[-0.7486,6.2706,-5.4846]]).T,
        3: np.array([[3.0863,5.8203,-5.8183]]).T,
        4: np.array([[5.6181,2.8251,-6.1521]]).T,
        5: np.array([[5.4130,-1.1566,-6.4858]]).T,
        6: np.array([[2.4874,-3.9656,-6.8196]]).T,
        7: np.array([[-1.6411,-4.0058,-7.1533]]).T,
    },
    5: {
        0: np.array([[0.1756,-2.1943,-3.9219]]).T,
        1: np.array([[-2.0244,-0.9273,-4.6425]]).T,
        2: np.array([[-2.6871,1.4342,-5.3631]]).T,
        3: np.array([[-1.5517,3.5111,-6.0837]]).T,
        4: np.array([[0.6298,4.1800,-6.8042]]).T,
        5: np.array([[2.5837,3.1761,-7.5248]]).T,
        6: np.array([[3.2586,1.1747,-8.2454]]).T,
        7: np.array([[2.3863,-0.6563,-8.9660]]).T,
    },
    6: {
        0: np.array([[-0.8944,1.4174,3.1490]]).T,
        1: np.array([[-0.5183,2.3526,2.4769]]).T,
        2: np.array([[0.4694,2.8728,1.8049]]).T,
        3: np.array([[1.6670,2.5876,1.1329]]).T,
        4: np.array([[2.4370,1.4786,0.4609]]).T,
        5: np.array([[2.2427,0.0186,-0.2111]]).T,
        6: np.array([[1.0123,-1.0012,-0.8832]]).T,
        7: np.array([[-0.7100,-0.8978,-1.5552]]).T,
    },
    7: {
        0: np.array([[-1.9647,-4.0115,3.5055]]).T,
        1: np.array([[-4.9515,-0.6807,2.7634]]).T,
        2: np.array([[-4.6607,3.7823,2.0213]]).T,
        3: np.array([[-1.2688,6.6958,1.2792]]).T,
        4: np.array([[3.1856,6.3100,0.5371]]).T,
        5: np.array([[6.0259,2.8569,-0.2050]]).T,
        6: np.array([[5.5450,-1.5889,-0.9471]]).T,
        7: np.array([[2.0308,-4.3560,-1.6892]]).T,
    },
}

N = 1
for lm_meas in y_bar.values():
    for timestep in lm_meas.keys():
        N = max(N, timestep + 1)
K = len(y_bar)

# Covariances
cov_v=1
cov_omega=1
cov_meas=1

# Ground Truths
t_gt = np.array([
    [0.0, 0.0, 0.0],
    [1.0, 0.0, 0.5],
    [1.7071067811865475, 0.7071067811865476, 1.0],
    [1.7071067811865472, 1.7071067811865475, 1.5],
    [0.9999999999999996, 2.414213562373095, 2.0],
    [-4.440892098500626e-16, 2.4142135623730945, 2.5],
    [-0.7071067811865477, 1.7071067811865466, 3.0],
    [-0.7071067811865472, 0.7071067811865467, 3.5],
])
R_gt = np.array([
    [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[-1.7938038903913487e-16, -1.0, 0.0], [1.0, -1.9967346175427393e-16, 0.0], [0.0, 0.0, 1.0]],
    [[-0.7071067811865477, -0.7071067811865474, 0.0], [0.7071067811865474, -0.7071067811865477, 0.0], [0.0, 0.0, 1.0]],
    [[-1.0, 2.7817808468846267e-16, 0.0], [-3.133961632045815e-16, -1.0, 0.0], [0.0, 0.0, 1.0]],
    [[-0.7071067811865472, 0.7071067811865478, 0.0], [-0.7071067811865478, -0.7071067811865472, 0.0], [0.0, 0.0, 1.0]],
    [[4.47411937370028e-16, 1.0, 0.0], [-0.9999999999999999, 4.677050100851671e-16, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865479, 0.7071067811865471, 0.0], [-0.707106781186547, 0.7071067811865478, 0.0], [0.0, 0.0, 1.0]],
])
v_gt = np.array([
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
])
Omega_gt = np.array([
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
])
p_gt = np.array([
    [-4.5560243728017245, 0.7428061693090218, 3.9530390631487666],
    [4.346747232057954, -1.1549400955262867, 0.7945054322196672],
    [3.22358402594322, 1.093470962689926, -4.9030576999401205],
    [-3.7972331257058647, 1.7987545264050748, 2.8318236075394836],
    [-4.508833255696158, 0.32795958720010976, -4.817050056446894],
    [0.17561686482354677, -2.1942771736988953, -3.921920630178687],
    [-0.8943890394194911, 1.4174436403272672, 3.148950461511827],
    [-1.9646912326001242, -4.01147435752539, 3.505478785187483],
])
z_gt = np.array([
    [-0.10965602320448779, 0.1862312710805637, -0.1256720742515792],
    [-0.16722750023779448, 0.18511498840855506, -0.016352499219353986],
    [-0.16958518654794064, 0.022022568107587244, 0.1823619231019646],
    [-0.22344294273805546, 0.09311508439649932, -0.0624726532043491],
    [-0.027316349500401602, -0.18470368182908414, 0.1662479081635386],
    [0.048656620119597344, 0.10713004079859091, -0.2205803429071354],
    [-0.13565439526688264, -0.1204476499303088, -0.17201816378232312],
    [-0.055226322109097115, 0.028925468396468958, -0.2421019839331085],
])
