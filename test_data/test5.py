import numpy as np

d = 3   # dimension of space (3D)

# Measurement data: maps landmark to {timestamp: measurement} dicts
y_bar = {
    0: {
        0: np.array([[-5.4382,-5.7841,3.7817]]).T,
        1: np.array([[-8.6425,0.4625,3.2817]]).T,
        2: np.array([[-6.4912,7.1453,2.7817]]).T,
        3: np.array([[-0.2446,10.3496,2.2817]]).T,
        4: np.array([[6.4382,8.1983,1.7817]]).T,
        5: np.array([[9.6425,1.9517,1.2817]]).T,
        6: np.array([[7.4912,-4.7311,0.7817]]).T,
        7: np.array([[1.2446,-7.9354,0.2817]]).T,
    },
    1: {
        0: np.array([[-5.8706,5.3373,9.9995]]).T,
        1: np.array([[-1.0842,8.6323,9.4995]]).T,
        2: np.array([[4.6302,7.5777,8.9995]]).T,
        3: np.array([[7.9252,2.7913,8.4995]]).T,
        4: np.array([[6.8706,-2.9231,7.9995]]).T,
        5: np.array([[2.0842,-6.2181,7.4995]]).T,
        6: np.array([[-3.6302,-5.1635,6.9995]]).T,
        7: np.array([[-6.9252,-0.3771,6.4995]]).T,
    },
    2: {
        0: np.array([[4.4707,0.3811,9.3798]]).T,
        1: np.array([[2.7236,-2.1847,8.8798]]).T,
        2: np.array([[-0.3260,-2.7636,8.3798]]).T,
        3: np.array([[-2.8918,-1.0165,7.8798]]).T,
        4: np.array([[-3.4707,2.0332,7.3798]]).T,
        5: np.array([[-1.7236,4.5989,6.8798]]).T,
        6: np.array([[1.3260,5.1778,6.3798]]).T,
        7: np.array([[3.8918,3.4307,5.8798]]).T,
    },
}

N = 1
for lm_meas in y_bar.values():
    for timestep in lm_meas.keys():
        N = max(N, timestep + 1)
K = len(y_bar)

# Covariances
cov_v=1
cov_omega=1
cov_meas=1

# Ground Truths:
t_gt = np.array([
    [0.0, 0.0, 0.0],
    [1.0, 0.0, 0.5],
    [1.7071067811865475, 0.7071067811865476, 1.0],
    [1.7071067811865472, 1.7071067811865475, 1.5],
    [0.9999999999999996, 2.414213562373095, 2.0],
    [-4.440892098500626e-16, 2.4142135623730945, 2.5],
    [-0.7071067811865477, 1.7071067811865466, 3.0],
    [-0.7071067811865472, 0.7071067811865467, 3.5],
])
R_gt = np.array([
    [[1.0, 0.0, 0.0], [0.0, 1.0, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[-1.7938038903913487e-16, -1.0, 0.0], [1.0, -1.9967346175427393e-16, 0.0], [0.0, 0.0, 1.0]],
    [[-0.7071067811865477, -0.7071067811865474, 0.0], [0.7071067811865474, -0.7071067811865477, 0.0], [0.0, 0.0, 1.0]],
    [[-1.0, 2.7817808468846267e-16, 0.0], [-3.133961632045815e-16, -1.0, 0.0], [0.0, 0.0, 1.0]],
    [[-0.7071067811865472, 0.7071067811865478, 0.0], [-0.7071067811865478, -0.7071067811865472, 0.0], [0.0, 0.0, 1.0]],
    [[4.47411937370028e-16, 1.0, 0.0], [-0.9999999999999999, 4.677050100851671e-16, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865479, 0.7071067811865471, 0.0], [-0.707106781186547, 0.7071067811865478, 0.0], [0.0, 0.0, 1.0]],
])
v_gt = np.array([
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
    [1.0, 0.0, 0.5],
])
Omega_gt = np.array([
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
    [[0.7071067811865475, -0.7071067811865476, 0.0], [0.7071067811865476, 0.7071067811865475, 0.0], [0.0, 0.0, 1.0]],
])
p_gt = np.array([
    [-5.438176932525991, -5.784128555821642, 3.781665724209528],
    [-5.870625564369534, 5.337330741520205, 9.999544064831053],
    [4.4706605462316915, 0.38106113293966004, 9.379803119125107],
])
